<!DOCTYPE html>
<html>

<head>
    <script type="module">
        import { PDFParse } from 'https://cdn.jsdelivr.net/npm/pdf-parse@latest/dist/browser/pdf-parse.es.js';
        PDFParse.setWorker('https://cdn.jsdelivr.net/npm/pdf-parse@latest/dist/browser/pdf.worker.min.mjs');

        async function parsePDF(file) {
            const arrayBuffer = await file.arrayBuffer();
            const parser = new PDFParse({ data: arrayBuffer });
            const result = await parser.getText();
            //await parser.destroy();
            return result.text;
        }

        document.getElementById('file-input').addEventListener('change', async (e) => {
            const file = e.target.files[0];
            const text = await parsePDF(file);
            document.getElementById('output').textContent = text;
        });
    </script>
</head>

<body>
    <input type="file" id="file-input" accept=".pdf">
    <pre id="output"></pre>
</body>

</html>